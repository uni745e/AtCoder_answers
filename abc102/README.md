# ABC102  
https://beta.atcoder.jp/contests/abc102/tasks

## A
Nが偶数なら`print(N)`、奇数なら`print(2 * N)`

## B
ソートして`print(A[N - 1] - A[0])`

## C
これ直線上に並ぶN個の点Biからの距離の和が最小となる点bとそのときの距離の和を求める問題  
ソート済みの長さNの配列Bを考える、  
bがB1-B2間に存在する時、bの値を1つ増やすと距離の和の増減値は-1 + (N - 1) = N - 2となる。  
逆にbの値を1つ減らすと増減値は- (N - 2)となる。
bがBk-Bk+1間に存在する時、bの値を1増やすと、増減値はN - 2kに、  
bの値を1つ減らすと増減値は-(N - 2k)になる。  

このことから  
kがN/2より大きい場合はb += 1  
kがN/2より小さい場合はb -= 1すれば距離の和の増減値が小さくなることが分かる。  
つまり距離の和が小さいのはk = N/2、つまりbが中央値B[N/2]のときである。

## D
まずある区間の和をO(1)で求められるように累積和を求める。  
この問題は配列に3箇所区切りを入れて、4つの区間に分ける問題である。  
4つの区間の総和を左から順にP, Q, R, Sとする。  

真ん中の区切りが固定されている時、左の区間を**L**、右の区間を**R**とする。**L**と**R**について更に区切りを入れる。この時、左の区切りは|P - Q|が最も小さくなる場所で、右の区切りは|R - S|が最も小さくなる場所で区切ることで4つの区間の総和の差の絶対値が最も小さくなる。真ん中の区切りを右に動かすと**L**の総和は単調増加し、**R**の総和は単調減少する。この時、区間**L**では|P - Q|が大きくなってしまうため、左の区切りは今の位置より左にずれることは無い。同様に、区間**R**では右の区切りも左にずれることはない。この特性から、**しゃくとり法**を用いることができる。

3つの要素を変化させる最適化問題では、大体真ん中の様を固定にする傾向にある気がする。  
真ん中を固定する場合、左右の最適な位置はO(n)で求まる。  
左を固定すると、まず真ん中の位置と右の位置を同時に求めなければならないため、O((n/2)^2)かかる。右を固定した場合も同様である。

## わかったこと  

- しゃくとり法  
	- 配列が単調増加・単調減少する声質を持っているときに使える  
	- ある区間の総和がX以上 or Y以下となる区間の数え上げをO(n^2) -> O(n)でできる
	- right++した時にleftが今より小さくなることはない  
- 3つの変数を最適化する問題では大抵真ん中を固定する  
	- 真ん中固定の場合、左右の変数はO(2*n)で求まる
	- 左右固定の場合、それ以外の変数はO((n/2)^2)で求まる

